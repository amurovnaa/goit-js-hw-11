{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from '..//main.js';\n\nexport function markupRender(data) {\n  const markup = data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class='gallery-item'>\n        <a class='gallery-link' href=\"${largeImageURL}\">\n        <div class gallery-block>\n        <img class='gallery-img' src=\"${webformatURL}\" alt=\"${tags}\" />\n          <div class=\"gallery-details\">\n            <div class = \"descr\">\n            <p>Likes</p>\n            <span>${likes}</span>\n            </div>\n            <div class = \"descr\">\n            <p>Views</p>\n            <span>${views}</span>\n            </div>\n            <div class = \"descr\">\n            <p>Comments</p>\n            <span>${comments}</span>\n            </div>\n            <div class = \"descr\">\n            <p>Downloads</p>\n            <span>${downloads}</span>\n            </div>\n          </div>\n          </div>\n        </a>\n      </li>`\n    )\n    .join(' ');\n  refs.galleryBox.innerHTML = markup;\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n    showCounter: false,\n  });\n  lightbox.refresh();\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { refs, iziOpt } from '..//main.js';\nimport { markupRender } from './render-functions.js';\n\nexport function getImages(userImgKeyword) {\n  const apiUrl = 'https://pixabay.com/api/';\n  const params = {\n    params: {\n      key: '48850297-faa43785257f145b82efcd967',\n      q: encodeURIComponent(userImgKeyword),\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  };\n  return axios\n    .get(apiUrl, params)\n    .then(res => {\n      if (!res.data.hits.length) {\n        refs.galleryBox.innerHTML = '';\n        iziToast.show({\n          ...iziOpt,\n          message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n        });\n      }\n      markupRender(res.data.hits);\n    })\n    .catch(error => {\n      console.log(error);\n      refs.galleryBox.innerHTML = '';\n    });\n}\n","import { getImages } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst errorIcon = './img/errorIcon.svg';\nexport const iziOpt = {\n  messageColor: '#FAFAFB',\n  messageSize: '16px',\n  backgroundColor: '#EF4040',\n  iconUrl: errorIcon,\n  transitionIn: 'bounceInLeft',\n  position: 'topRight',\n  displayMode: 'replace',\n  closeOnClick: true,\n};\n\nexport const refs = {\n  form: document.querySelector('.search-form'),\n  galleryBox: document.querySelector('.gallery'),\n};\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  const userKeyword = e.target.elements.imageKey.value.trim().toLowerCase();\n  if (!userKeyword) {\n    refs.galleryBox.innerHTML = '';\n    iziToast.show({\n      ...iziOpt,\n      message: 'Please fill the search keyword',\n    });\n  }\n  refs.galleryBox.innerHTML =\n    '<p class=\"loader\">Loading images, please wait... <span class=\"loader\"></span></p>';\n  getImages(userKeyword);\n});\n"],"names":["markupRender","data","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","SimpleLightbox","getImages","userImgKeyword","apiUrl","params","axios","res","iziToast","iziOpt","error","errorIcon","e","userKeyword"],"mappings":"wyBAIO,SAASA,EAAaC,EAAM,CACjC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,wCAC4BL,CAAa;AAAA;AAAA,wCAEbD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,oBAI9CC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,YAMxB,EACA,KAAK,GAAG,EACXC,EAAK,WAAW,UAAYR,EACX,IAAIS,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,YAAa,EACjB,CAAG,EACQ,QAAO,CAClB,CC5CO,SAASC,EAAUC,EAAgB,CACxC,MAAMC,EAAS,2BACTC,EAAS,CACb,OAAQ,CACN,IAAK,qCACL,EAAG,mBAAmBF,CAAc,EACpC,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,EACE,OAAOG,EACJ,IAAIF,EAAQC,CAAM,EAClB,KAAKE,GAAO,CACNA,EAAI,KAAK,KAAK,SACjBP,EAAK,WAAW,UAAY,GAC5BQ,EAAS,KAAK,CACZ,GAAGC,EACH,QACE,2EACZ,CAAS,GAEHnB,EAAaiB,EAAI,KAAK,IAAI,CAChC,CAAK,EACA,MAAMG,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBV,EAAK,WAAW,UAAY,EAClC,CAAK,CACL,CC9BA,MAAMW,EAAY,sBACLF,EAAS,CACpB,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,QAASE,EACT,aAAc,eACd,SAAU,WACV,YAAa,UACb,aAAc,EAChB,EAEaX,EAAO,CAClB,KAAM,SAAS,cAAc,cAAc,EAC3C,WAAY,SAAS,cAAc,UAAU,CAC/C,EACAA,EAAK,KAAK,iBAAiB,SAAUY,GAAK,CACxCA,EAAE,eAAc,EAChB,MAAMC,EAAcD,EAAE,OAAO,SAAS,SAAS,MAAM,OAAO,cACvDC,IACHb,EAAK,WAAW,UAAY,GAC5BQ,EAAS,KAAK,CACZ,GAAGC,EACH,QAAS,gCACf,CAAK,GAEHT,EAAK,WAAW,UACd,oFACFE,EAAUW,CAAW,CACvB,CAAC"}